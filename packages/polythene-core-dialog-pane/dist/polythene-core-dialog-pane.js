!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core")):"function"==typeof define&&define.amd?define(["exports","polythene-core"],t):t((e=e||self).polythene={},e["polythene-core"])}(this,(function(e,t){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function n(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(o.push(l.value),!t||o.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a={component:"pe-dialog-pane",actions:"pe-dialog-pane__actions",body:"pe-dialog-pane__body",content:"pe-dialog-pane__content",footer:"pe-dialog-pane__footer",header:"pe-dialog-pane__header",title:"pe-dialog-pane__title",withHeader:"pe-dialog-pane--header",withFooter:"pe-dialog-pane--footer",headerWithTitle:"pe-dialog-pane__header--title",footerWithButtons:"pe-dialog-pane__footer--buttons",footerHigh:"pe-dialog-pane__footer--high",borderBottom:"pe-dialog-pane--border-bottom",borderTop:"pe-dialog-pane--border-top",fullBleed:"pe-dialog-pane--body-full-bleed"},l={component:"pe-text-button",super:"pe-button",row:"pe-button-row",content:"pe-button__content",label:"pe-button__label",textLabel:"pe-button__text-label",wash:"pe-button__wash",washColor:"pe-button__wash-color",dropdown:"pe-button__dropdown",border:"pe-button--border",contained:"pe-button--contained",disabled:"pe-button--disabled",dropdownClosed:"pe-button--dropdown-closed",dropdownOpen:"pe-button--dropdown-open",extraWide:"pe-button--extra-wide",hasDropdown:"pe-button--dropdown",highLabel:"pe-button--high-label",inactive:"pe-button--inactive",raised:"pe-button--raised",selected:"pe-button--selected",separatorAtStart:"pe-button--separator-start",hasHover:"pe-button--has-hover"};e._DialogPane=function(e){var i=e.h,u=e.a,d=e.useState,p=e.useEffect,c=e.useRef,s=e.getRef,f=n(e,["h","a","useState","useEffect","useRef","getRef"]),b=t.unpackAttrs(f),h=r(d(),2),y=h[0],v=h[1],g=r(d(!1),2),_=g[0],m=g[1],w=r(d(!1),2),O=w[0],j=w[1],x=r(d(!1),2),B=x[0],S=x[1],N=c(),T=c(),P=c(),A=c(),H=function(){var e=P.current;e&&(j(e.scrollTop>0),S(e.scrollHeight-(e.scrollTop+e.getBoundingClientRect().height)>0))};p((function(){y&&(N.current=y.querySelector(".".concat(a.header)),T.current=y.querySelector(".".concat(a.footer)),P.current=y.querySelector(".".concat(a.body)))}),[y]),p((function(){if(P.current){var e=function(){H()};return t.subscribe("resize",e),function(){t.unsubscribe("resize",e)}}}),[P.current]),p((function(){H()}),[P.current,_]);var R,W,k,q=void 0!==b.header||void 0!==b.title,C=void 0!==b.footer||void 0!==b.footerButtons,E=b.borders||"overflow",I="always"===E||q&&"overflow"===E&&O,z="always"===E||C&&"overflow"===E&&B,D=o({},t.filterSupportedAttributes(b,{remove:["style"]}),b.testId&&{"data-test-id":b.testId},s((function(e){return e&&!y&&(v(e),b.ref&&b.ref(e))})),{className:[a.component,b.fullBleed?a.fullBleed:null,I?a.borderTop:null,z?a.borderBottom:null,q?a.withHeader:null,C?a.withFooter:null,"dark"===b.tone?"pe-dark-tone":null,"light"===b.tone?"pe-light-tone":null,b.className||b[u.class]].join(" ")},b.formOptions),F=i("div",{className:[a.content,b.menu?a.menuContent:null].join(" "),style:b.style},[b.header?b.header:b.title?i("div",{className:[a.header,a.headerWithTitle].join(" ")},i("div",{className:a.title},b.title)):null,i("div",(R={className:a.body},W=u.onscroll,k=function(){m(!0),clearTimeout(A.current),A.current=setTimeout((function(){m(!1)}),50)},W in R?Object.defineProperty(R,W,{value:k,enumerable:!0,configurable:!0,writable:!0}):R[W]=k,R),b.content||b.body||b.menu),b.footer?i("div",{className:a.footer},b.footer):b.footerButtons?i("div",{className:[a.footer,a.footerWithButtons,l.row].join(" ")},i("div",{className:a.actions},b.footerButtons)):null]),L=[b.before,F,b.after];return i(b.element||"form",D,L)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=polythene-core-dialog-pane.js.map
